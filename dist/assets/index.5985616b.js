import{R as u,r as i,m as f,j as l,a as b,u as x,b as h}from"./vendor.76908aed.js";const v=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};v();const m=u.createContext(null),M=()=>{const n=u.useContext(m);if(!n)throw new Error("useMapboxMap must be used within a MapboxMapProvider");return n},O=n=>{const o=i.exports.useRef(null),{center:s=[0,0],zoom:r=17,apiKey:e,children:t,style:a,boundingBox:d}=n,c=i.exports.useRef(null),[y,g]=i.exports.useState(!1);return i.exports.useEffect(()=>{f.accessToken=e},[e]),i.exports.useEffect(()=>{!o.current||(c.current=new f.Map({container:o.current,style:"mapbox://styles/mapbox/satellite-v9",center:s,zoom:r}).on("load",()=>{var p;d&&((p=c.current)==null||p.fitBounds(d,{padding:20,maxZoom:18,animate:!1})),g(!0)}),window.location.search.includes("test-mode")&&(window.mapbox=c.current))},[s,a,r]),l("div",{style:{height:"93.5vh"},ref:o,children:y&&l(m.Provider,{value:c.current,children:t})})};function P(n,o,s){return b(n,{num_vertices:o,bbox:s,max_radial_length:2})}const w=({boundingBox:n,numberOfPolygons:o,numberOfVertices:s})=>{const r=M();return i.exports.useEffect(()=>{const e=P(o,s,n);return r.addSource("polygons",{type:"geojson",data:e}),r.addLayer({id:"polys",type:"fill",source:"polygons",paint:{"fill-color":"red","fill-opacity":1},filter:["==","$type","Polygon"]}),r.addLayer({id:"polys-outline",type:"line",source:"polygons",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#fff","line-width":2},filter:["==","$type","Polygon"]}),()=>{r.removeLayer("polys"),r.removeLayer("polys-outline"),r.removeSource("polygons")}},[o,s,n]),null};var A=n=>{const o=x("Polygon configuration",{numberOfPolygons:{value:10,min:1,max:1e4,step:10},numberOfVertices:{value:10,min:10,max:200,step:10}});return l(w,{boundingBox:n.boundingBox,numberOfPolygons:o.numberOfPolygons,numberOfVertices:o.numberOfVertices},`${o.numberOfPolygons}-${o.numberOfVertices}`)};const I="pk.eyJ1IjoibWFkb2xlIiwiYSI6ImNrd2Zsd2c0bDBmbHcyd21wNzZhMjBoYjQifQ.a4WGOFqIfZp4VI5fhJc3kA",L=[[113.338953078,-43.6345972634],[153.569469029,-10.6681857235]],B=[133.7751,-25.2744];function E(){return l("div",{className:"App",children:l(O,{apiKey:I,center:B,zoom:4,children:l(A,{boundingBox:L.flat()})})})}h.render(l(u.StrictMode,{children:l(E,{})}),document.getElementById("root"));
